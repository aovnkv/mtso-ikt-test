(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{42:function(e,t,n){e.exports=n(79)},53:function(e,t,n){},54:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(17),s=n(9),o=n(2),l=n(25),u=n(36),i=n(37),m=n.n(i),E=n(38),p=n(39),f=n(3),b=n(4),O=Object(b.a)(),d=(n(53),n(15)),v=(n(54),Object(f.e)(Object(o.b)(function(e){return e.loginReducer})(function(e){var t=e.isSubmitting,n=Object(r.useContext)(z),c=n?a.a.createElement(d.a,{to:"/logout",className:"btn-link",activeClassName:"active"},a.a.createElement("button",{className:"btn btn-logout"},"\u0412\u044b\u0439\u0442\u0438")):a.a.createElement(d.a,{to:"/login",className:"btn-link",activeClassName:"active"},a.a.createElement("button",{className:"btn btn-login",disabled:t},"\u0412\u043e\u0439\u0442\u0438")),s=n&&a.a.createElement("div",{className:"nav-item"},a.a.createElement(d.a,{to:"/profile",className:"nav-link",activeClassName:"active"},"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"));return a.a.createElement("div",{className:"App-header"},a.a.createElement("nav",{className:"nav"},a.a.createElement("div",{className:"nav-item"},c),s,a.a.createElement("div",{className:"nav-item"},a.a.createElement(d.a,{to:"/news",className:"nav-link",activeClassName:"active"},"\u041d\u043e\u0432\u043e\u0441\u0442\u0438"))))}))),g=n(8),h=n.n(g),_=n(14),y=n(12),w=n(41),S=n(19),j=n.n(S),N="https://mysterious-reef-29460.herokuapp.com/api/v1",U=function(){var e=Object(_.a)(h.a.mark(function e(t){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.post("".concat(N,"/validate/"),t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(_.a)(h.a.mark(function e(t){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("".concat(N,"/user-info/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(_.a)(h.a.mark(function e(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("".concat(N,"/news/"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();n(74);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(n,!0).forEach(function(t){Object(y.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var C={authenticateUser:function(e){return function(){var t=Object(_.a)(h.a.mark(function t(n){var r;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:"USER_LOGIN_REQUEST"}),t.prev=1,t.next=4,U(e);case 4:if("ok"!==(r=t.sent).data.status){t.next=10;break}n({type:"USER_LOGIN_SUCCESS",id:r.data.data.id}),O.push("/profile"),t.next=13;break;case 10:if("err"!==r.data.status){t.next=13;break}return n({type:"USER_LOGIN_FAILURE",err:r.data.message}),t.abrupt("return",r.data.message);case 13:t.next=19;break;case 15:throw t.prev=15,t.t0=t.catch(1),n({type:"USER_LOGIN_FAILURE",err:"\u0421\u0435\u0440\u0432\u0435\u0440 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d"}),new Error(t.t0);case 19:case"end":return t.stop()}},t,null,[[1,15]])}));return function(e){return t.apply(this,arguments)}}()}},I=Object(o.b)(function(e){return e.loginReducer},C)(function(e){var t=e.authenticateUser,n=e.isSubmitting,c=Object(r.useState)({email:"",password:"",showMessage:!1,message:"\u0412\u044b \u0432\u0432\u0435\u043b\u0438 \u043d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c"}),s=Object(w.a)(c,2),o=s[0],l=s[1],u=function(e){return l(k({},o,Object(y.a)({},e.target.name,e.target.value)))},i=Object(r.useContext)(z),m=function(){var e=Object(_.a)(h.a.mark(function e(n){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,t(o);case 4:"wrong_email_or_password"===e.sent&&l(k({},o,{password:"",showMessage:!0})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0.message);case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}(),E=o.showMessage&&a.a.createElement("div",{style:{color:"red"},className:"warning"},o.message);return i?a.a.createElement("div",{className:"content"},a.a.createElement("h1",null,"\u0412\u044b \u0443\u0436\u0435 \u0432\u043e\u0448\u043b\u0438 \u043d\u0430 \u0441\u0430\u0439\u0442 \u043a\u0430\u043a ",i)):a.a.createElement("div",{className:"content"},a.a.createElement("h1",{className:"content__header"},"\u0412\u0445\u043e\u0434 \u043d\u0430 \u0441\u0430\u0439\u0442:"),a.a.createElement("form",{onSubmit:m},a.a.createElement("div",null,a.a.createElement("input",{onChange:u,id:"email",type:"email",name:"email",value:o.email,pattern:"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$",required:!0}),a.a.createElement("label",{htmlFor:"email"},"\u042d\u043b. \u043f\u043e\u0447\u0442\u0430")),a.a.createElement("div",null,a.a.createElement("input",{onChange:u,id:"password",type:"password",name:"password",value:o.password,required:!0}),a.a.createElement("label",{htmlFor:"password"},"\u041f\u0430\u0440\u043e\u043b\u044c")),E,a.a.createElement("button",{type:"submit",disabled:n},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c")))}),F=function(){return a.a.createElement("div",{className:"loading"})},L=function(){return a.a.createElement("div",{className:"content"},a.a.createElement("div",{className:"content__header"},"\u041e\u0448\u0438\u0431\u043a\u0430"),a.a.createElement("div",{className:"content__main"},"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d."))},T=(n(75),{getUserProfile:function(e){return function(t){t({type:"GET_USER_PROFILE_REQUEST"}),R(e).then(function(e){"ok"===e.data.status?t({type:"GET_USER_PROFILE_SUCCESS",userData:e.data.data}):"err"===e.data.status&&t({type:"GET_USER_PROFILE_FAILURE",err:e.data.message})}).catch(function(e){t({type:"GET_USER_PROFILE_FAILURE",err:e})})}}}),x=Object(o.b)(function(e){return e.userProfileReducer},T)(function(e){var t=e.userData,n=e.isFetching,c=e.error,s=e.getUserProfile,o=Object(r.useContext)(z),l="user_not_found"===c;Object(r.useEffect)(function(){s(o)},[o,s]);var u=t.social.map(function(e){return a.a.createElement("li",{key:e.label,className:e.label},a.a.createElement("a",{href:e.link}))});return n?a.a.createElement(F,null):l?a.a.createElement(L,null):a.a.createElement("div",{className:"content"},a.a.createElement("h1",{className:"content__header"},"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"),a.a.createElement("div",{className:"content__main profile"},a.a.createElement("p",null,a.a.createElement("span",null,"\u0413\u043e\u0440\u043e\u0434: "),t.city),a.a.createElement("h2",null,"\u0417\u043d\u0430\u043d\u0438\u0435 \u044f\u0437\u044b\u043a\u043e\u0432:"),a.a.createElement("ul",null,a.a.createElement("li",null,"+ ",t.languages[0]),a.a.createElement("li",null,"+ ",t.languages[1])),a.a.createElement("h2",null,"\u0421\u0441\u044b\u043b\u043a\u0438:"),a.a.createElement("ul",{className:"socials"},u)))}),G=(n(76),{getNews:function(){return function(e){e({type:"GET_NEWS_REQUEST"}),P().then(function(t){"ok"===t.data.status?e({type:"GET_NEWS_SUCCESS",newsData:t.data.data}):"err"===t.data.status&&e({type:"GET_NEWS_FAILURE",err:t.data.message})}).catch(function(t){e({type:"GET_NEWS_FAILURE",err:t})})}}}),A=Object(o.b)(function(e){return e.newsReducer},G)(function(e){var t=e.newsData,n=e.isFetching,c=e.getNews;Object(r.useEffect)(function(){return c()},[c]);var s=t.map(function(e){return a.a.createElement("article",{key:e.id,id:e.id},a.a.createElement("h2",null,e.title),a.a.createElement("p",null,e.text))});return n?a.a.createElement(F,null):a.a.createElement("div",{className:"content"},a.a.createElement("h1",{className:"content__header"},"\u041d\u043e\u0432\u043e\u0441\u0442\u0438"),a.a.createElement("div",{className:"content__main news"},s,a.a.createElement("div",{className:"newsAmount"},"\u0412\u0441\u0435\u0433\u043e \u043d\u043e\u0432\u043e\u0441\u0442\u0435\u0439: ",s.length)))}),W={logoutUser:function(){return function(e){e({type:"USER_LOGOUT_SUCCESS"}),O.push("/login")}}},Q=Object(o.b)(null,W)(function(e){var t=e.logoutUser;return a.a.createElement("div",{className:"content"},a.a.createElement("div",{className:"content__header"},a.a.createElement("h1",null,"\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0432\u044b\u0439\u0442\u0438?")),a.a.createElement("div",{className:"content__main"},a.a.createElement("button",{onClick:t,className:"btn btn-logout"},"\u0414\u0430"),a.a.createElement("button",{onClick:function(){return O.push("/profile")},className:"btn btn-logout"},"\u041d\u0435\u0442")))}),M=(n(77),Object(f.e)(function(){var e=Object(r.useContext)(z),t=e?a.a.createElement("h1",null,"\u0412\u044b \u0443\u0436\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d\u044b, \u043a\u0430\u043a ",e):a.a.createElement("h1",null,"\u0412\u044b \u043d\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d\u044b. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u043e\u0439\u0434\u0438\u0442\u0435 \u043d\u0430 \u0441\u0430\u0439\u0442.");return a.a.createElement("main",{className:"App-main"},a.a.createElement(f.a,{path:"/",exact:!0,render:function(){return a.a.createElement("div",{className:"content"},a.a.createElement("div",{className:"content__header"},t))}}),a.a.createElement(f.a,{path:"/login",component:I}),a.a.createElement(f.a,{path:"/logout",component:Q}),a.a.createElement(f.a,{path:"/profile",component:x}),a.a.createElement(f.a,{path:"/news",component:A}))})),z=Object(r.createContext)({userID:void 0}),q=Object(o.b)(function(e){return e.loginReducer})(function(e){var t=e.userID;return a.a.createElement("div",{className:"App"},a.a.createElement(f.b,{history:O},a.a.createElement(z.Provider,{value:t},a.a.createElement(v,null),a.a.createElement(M,null))))});function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(n,!0).forEach(function(t){Object(y.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var B={userID:void 0,isSubmitting:!1,error:null},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOGIN_REQUEST":return X({},e,{isSubmitting:!0});case"USER_LOGIN_FAILURE":return X({},e,{isSubmitting:!1,error:t.err});case"USER_LOGIN_SUCCESS":return{error:null,isSubmitting:!1,userID:t.id};case"USER_LOGOUT_SUCCESS":return X({},B);default:return e}};function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(n,!0).forEach(function(t){Object(y.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var K={newsData:{},isFetching:!1,error:null},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_NEWS_REQUEST":return H({},e,{isFetching:!0});case"GET_NEWS_FAILURE":return H({},e,{isFetching:!1,error:t.err});case"GET_NEWS_SUCCESS":return{error:null,isFetching:!1,newsData:t.newsData};default:return e}};function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(n,!0).forEach(function(t){Object(y.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var te={userData:{},isFetching:!1,error:null},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_USER_PROFILE_REQUEST":return ee({},e,{isFetching:!0});case"GET_USER_PROFILE_FAILURE":return ee({},e,{isFetching:!1,error:t.err});case"GET_USER_PROFILE_SUCCESS":return{error:null,isFetching:!1,userData:t.userData};default:return e}},re=Object(s.c)({loginReducer:V,newsReducer:Y,userProfileReducer:ne});n(78);n.d(t,"store",function(){return le});var ae=Object(p.createLogger)(),ce={key:"root",storage:m.a},se=Object(l.a)(ce,re),oe=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.d,le=Object(s.e)(se,oe(Object(s.a)(E.a,ae))),ue=Object(l.b)(le);Object(c.render)(a.a.createElement(o.a,{store:le},a.a.createElement(u.a,{loading:null,persistor:ue},a.a.createElement(q,null))),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.e740beb7.chunk.js.map